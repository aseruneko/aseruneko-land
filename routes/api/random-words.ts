import { HandlerContext } from "$fresh/server.ts";

export const handler = async (
  _req: Request,
  _ctx: HandlerContext,
): Promise<Response> => {
  const url = new URL(_req.url);
  const limit = url.searchParams.get("limit")
    ? parseInt(url.searchParams.get("limit")!)
    : 1;
  const res: string[] = [];
  for (let i = 0; i < limit; i++) {
    res.push(words[Math.floor(Math.random() * words.length)]);
  }
  return Response.json(res);
};

const words: string[] = [
  "この世",
  "喜び",
  "荒地",
  "家族",
  "おいしいごはん",
  "ブラックボックス",
  "貝",
  "場所",
  "彼岸花",
  "島",
  "推し",
  "燃ゆ",
  "首里",
  "馬",
  "破局",
  "セイタカアワダチソウ",
  "紫のスカート",
  "ニムロッド",
  "１分３４秒",
  "送り火",
  "オラオラ",
  "百年",
  "泥",
  "影",
  "裏",
  "新世界",
  "コンビニ",
  "人間",
  "死んでいない",
  "異類婚姻譚",
  "スクラップ・アンド・ビルド",
  "火花",
  "九年前",
  "祈り",
  "春",
  "庭",
  "穴",
  "爪",
  "目",
  "珊瑚",
  "冥土",
  "巡り",
  "道化師",
  "蝶",
  "共食い",
  "苦役",
  "列車",
  "乙女",
  "密告",
  "終（つい）の",
  "住処",
  "スライム",
  "舟",
  "時",
  "朝",
  "乳",
  "卵",
  "明後日",
  "ひとり",
  "日和",
  "八月の",
  "路上",
  "沖",
  "待つ",
  "土の中の",
  "子供",
  "グランドフィナーレ",
  "介護",
  "入門",
  "蛇",
  "ピアス",
  "蹴りたい背中",
  "ハリガネムシ",
  "しょっぱい",
  "ドライブ",
  "パーク",
  "ライフ",
  "猛スピード",
  "母",
  "中陰",
  "花",
  "聖水",
  "熊",
  "敷石",
  "夏",
  "約束",
  "日食",
  "ゲルマニウム",
  "ブエノスアイレス",
  "午前零時",
  "水滴",
  "海峡",
  "光",
  "家族",
  "シネマ",
  "蛇",
  "踏む",
  "豚",
  "報い",
  "閾値",
  "木偶",
  "タイムスリップ",
  "コンビナート",
  "石",
  "来歴",
  "犬",
  "婿入り",
  "運転士",
  "聖地",
  "自動",
  "起床",
  "装置",
  "背負う",
  "水",
  "妊娠",
  "カレンダー",
  "村",
  "名前",
  "表層",
  "生活",
  "ネコババ",
  "町",
  "ダイヤモンドダスト",
  "尋ね人",
  "長男",
  "出家",
  "鍋",
  "渦",
  "祭",
  "世界",
  "光",
  "友",
  "夢",
  "壁",
  "佐川君",
  "手紙",
  "小さい",
  "貴婦人",
  "父",
  "消えた",
  "やまあい",
  "煙",
  "愚者",
  "九月",
  "空",
  "川",
  "僕",
  "エーゲ海",
  "捧げる",
  "限りない",
  "透明に近い",
  "ブルー",
  "岬",
  "夕日",
  "土の器",
  "草のつるぎ",
  "月",
  "庭",
  "レクイエム",
  "汽笛",
  "砧",
  "沖縄",
  "少年",
  "アカシヤ",
  "大連",
  "赤頭巾",
  "三匹",
  "蟹",
  "帰郷",
  "カクテル",
  "パーティ",
  "流れ",
  "玩具",
  "感傷",
  "センチメンタル",
  "ジャーニー",
  "少年",
  "橋",
  "美談",
  "出発",
  "鯨",
  "神",
  "忍",
  "夜と霧",
  "塔",
  "飼育",
  "裸",
  "王様",
  "硫黄島",
  "太陽",
  "季節",
  "白い",
  "アメリカン",
  "スクール",
  "プールサイド",
  "驟雨",
  "悪い仲間",
  "陰気",
  "付喪神",
  "日記",
  "広場",
  "孤独",
  "壁",
  "異邦人",
  "闘牛",
  "確証",
  "本の話",
  "登攀",
  "和紙",
  "纏足",
  "連絡員",
  "青果",
  "市場",
  "デルタ",
  "平賀源内",
  "密猟",
  "鶏",
  "騒動",
  "浅草",
  "乗合馬車",
  "糞尿",
  "のんき",
  "眼鏡",
  "地中海",
  "城",
  "コシャマイン",
  "蒼氓",
  "風流",
  "唄",
  "天正",
  "武道",
  "伝来",
  "人生",
  "阿呆",
  "ジョン万次郎",
  "漂流記",
  "回想",
  "兄弟",
  "兜",
  "小指",
  "軍事",
  "郵便",
  "上総",
  "風土記",
  "強情",
  "いちご",
  "観葉",
  "蛾",
  "笹舟",
  "ニューギニア",
  "入れ墨",
  "海",
  "天皇",
  "帽子",
  "執行猶予",
  "石川五エ門",
  "英語",
  "鈴木",
  "イエス",
  "叛乱",
  "終身刑",
  "ボロ屋",
  "春秋",
  "強力",
  "香港",
  "壁",
  "灯台",
  "赤い",
  "雪",
  "総会屋",
  "落ちる",
  "脅迫",
  "笑う男",
  "切腹",
  "梟",
  "錯乱",
  "念仏",
  "背徳",
  "メス",
  "蛍",
  "天才",
  "狂人",
  "塵",
  "虹",
  "八百長",
  "ヒナゲシ",
  "青ざめた",
  "馬",
  "追い詰める",
  "アメリカ",
  "ひじき",
  "火垂るの墓",
  "聖少女",
  "軍旗",
  "斬る",
  "津軽",
  "暗殺",
  "年輪",
  "鬼",
  "雨宿り",
  "アトラス",
  "伝説",
  "復讐",
  "子育て",
  "離婚",
  "琴",
  "花の名前",
  "かわうそ",
  "犬小屋",
  "黄色い",
  "牙",
  "元首",
  "謀反",
  "人間万事塞翁が馬",
  "機雷",
  "蒲田",
  "女房",
  "私生活",
  "恋文",
  "演歌",
  "虫",
  "魚河岸",
  "最終便",
  "京都",
  "紅",
  "赤い星",
  "ソウル",
  "ミュージック",
  "最終楽章",
  "遠い海",
  "商店街",
  "少女",
  "殺した",
  "漂泊者",
  "アリア",
  "青春",
  "デンデケデケデケ",
  "狼",
  "奉行",
  "記憶",
  "書房",
  "山河",
  "帰郷",
  "テロリスト",
  "パラソル",
  "ジハード",
  "鉄道員",
  "長崎",
  "虹の谷",
  "５月",
  "GO",
  "プラナリア",
  "ビタミンF",
  "愛",
  "領分",
  "あかね空",
  "生きる",
  "フォーティーン",
  "星々",
  "号泣",
  "百物語",
  "空中",
  "ブランコ",
  "邂逅",
  "対岸",
  "彼女",
  "まんま",
  "容疑者X",
  "献身",
  "駅前",
  "ビニールシート",
  "吉原",
  "悼む",
  "利休",
  "鷺",
  "雪",
  "廃墟",
  "ほかならぬ",
  "小さい",
  "おうち",
  "漂砂",
  "下町",
  "ロケット",
  "鍵のない",
  "夢",
  "ホテル",
  "ロイヤル",
  "恋歌",
  "昭和",
  "犬",
  "破門",
  "サラバ！",
  "めとる",
  "理髪店",
  "海の見える",
  "蜜蜂",
  "遠雷",
  "銀河鉄道",
  "父",
  "月の満ち欠け",
  "ファーストラヴ",
  "宝島",
  "渦",
  "熱源",
  "少年と犬",
  "テスカトリポカ",
  "星落ちて",
  "地図",
  "拳",
  "しろがね",
  "葉",
  "仇討ち",
];
